# Main Pipeline for SoundBox
# https://aka.ms/yaml

trigger:
- master
- azure-pipeline-cmake

jobs:

- job: Linux
  pool:
    vmImage: 'ubuntu-latest'
  steps:
  - script: |
        echo hello from Linux
        uname -a
        cmake --version
        python3 --version
        pwd
        ls -l
        mkdir build
        cd build
        pwd
        ls -la
        cmake ../source
        cmake --build .

- job: Windows
  pool:
    vmImage: 'windows-latest'
  steps:
  - script: |
        echo hello from Windows
        systeminfo
        cd
        cmake --version
        python3 --version
        dir
        md build 2>&1
        cd build
        cd
        dir
        cmake ..\source
        cmake --build .

- job: macOS
  pool:
    vmImage: 'macOS-latest'
  steps:
  - script: |
          echo hello from macOS
          system_profiler
          cmake --version
          python3 --version
          ls -la
          mkdir build
          cd build
          pwd
          ls -la
          cmake ../source
          cmake --build .
